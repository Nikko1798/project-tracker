import{d as x,E as C,n as w,D as c,f as _,o as g,w as o,a as s,k as E,u as e,i as r,b as i,p as N,R as h,s as D}from"./app-6Y0AkY02.js";import{_ as I,a as M,b as q,c as B,d as F,f as L,g as P,u as R,e as S}from"./MessageBox-DH2Dj3Ht.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-OeQYxGn1.js";import{_ as b}from"./index-BweTMWil.js";import{u as d}from"./usePasswordToggle-CyqFJmM4.js";import{c as y}from"./createLucideIcon-B4vukdig.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=y("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=y("UserRoundIcon",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]),T={class:"grid gap-2"},j={class:"grid gap-2"},W=x({__name:"UpdateProfileForm",props:{UserData:{type:Object,default:()=>{}}},setup(U){d(),d(),d();const{openSuccessNotification:v,openErrorNotification:V}=R(),u=U,m=C(!1),t=w({email:u.UserData.email,name:u.UserData.name}),$=(async()=>{try{const l=await h.patch(D("user-mgmt.updateUserProfile",u.UserData.id),t,{});m.value=!1,v(`${l.data.message}`),S.emit("refresh-user-table"),console.log(l)}catch(l){return V(l.response.data.message),l}});return(l,a)=>{const f=c("Label"),p=c("InputError");return g(),_(e(P),{open:m.value,"onUpdate:open":a[2]||(a[2]=n=>m.value=n)},{default:o(()=>[s(e(I),null,{default:o(()=>[s(e(b),{size:"sm",class:"text-xs button-submit"},{default:o(()=>[s(e(O)),a[3]||(a[3]=r("Update Profile",-1))]),_:1})]),_:1}),m.value?(g(),_(e(M),{key:0},{default:o(()=>[i("form",{onSubmit:N($,["prevent"])},[s(e(q),null,{default:o(()=>[s(e(B),null,{default:o(()=>[...a[4]||(a[4]=[r("Edit profile",-1)])]),_:1}),s(e(F),null,{default:o(()=>[...a[5]||(a[5]=[r(" Make changes to user profile here. Click save when you're done. ",-1)])]),_:1})]),_:1}),i("div",T,[s(f,{for:"name"},{default:o(()=>[...a[6]||(a[6]=[r("Full Name",-1)])]),_:1}),s(e(k),{id:"name",class:"mt-1 block w-full",name:"name",modelValue:e(t).name,"onUpdate:modelValue":a[0]||(a[0]=n=>e(t).name=n),required:"",autocomplete:"name",placeholder:"Full name"},null,8,["modelValue"]),s(p,{message:e(t).errors.name},null,8,["message"])]),i("div",j,[s(f,{for:"email"},{default:o(()=>[...a[7]||(a[7]=[r("Email",-1)])]),_:1}),s(e(k),{id:"email",type:"email",class:"mt-1 block w-full",name:"email",modelValue:e(t).email,"onUpdate:modelValue":a[1]||(a[1]=n=>e(t).email=n),required:"",autocomplete:"username",placeholder:"Email address"},null,8,["modelValue"]),s(p,{message:e(t).errors.email},null,8,["message"])]),s(e(L),null,{default:o(()=>[s(e(b),{type:"submit",class:"bg-blue-500 cursor-pointer hover:bg-blue-700"},{default:o(()=>[s(e(z)),a[8]||(a[8]=r("Update ",-1))]),_:1})]),_:1})],32)]),_:1})):E("",!0)]),_:1},8,["open"])}}});export{W as _};

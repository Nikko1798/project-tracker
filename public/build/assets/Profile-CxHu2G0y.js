import{d as F,C as N,n as U,D as V,f as w,o as f,w as l,a as r,u as t,h as j,b as c,c as _,k as p,i as d,t as $,p as O,l as H,s as L}from"./app-vTTCaS-4.js";import{e as I}from"./index-lZIskIFq.js";import{q as y,a as M}from"./index-CMWG4mbA.js";import{_ as T,a as Y}from"./Layout.vue_vue_type_script_setup_true_lang-CXFUQraA.js";import{_ as C,a as q}from"./Label.vue_vue_type_script_setup_true_lang-CN3iwIMS.js";import{_ as z}from"./index-DpwaDo9S.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-DXjDl46i.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-Y2_lhl7C.js";import{_ as E,a as P,b as Q}from"./index-BBP-Vrov.js";import"./createLucideIcon-C8QRG_X6.js";import"./useForwardExpose-jZBNQbt8.js";import"./Presence-Q-5AFplr.js";import"./useDirection-BhMXOjWn.js";import"./x-JOQW4yW-.js";import"./getActiveElement-FUKBWQwh.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-BfMI9Ldt.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/verify-email"};a.url=e=>a.definition.url+y(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const v=e=>({action:a.url(e),method:"get"});v.get=e=>({action:a.url(e),method:"get"});v.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=v;const i=(e,o)=>({url:i.url(e,o),method:"get"});i.definition={methods:["get","head"],url:"/verify-email/{id}/{hash}"};i.url=(e,o)=>{Array.isArray(e)&&(e={id:e[0],hash:e[1]}),e=M(e);const u={id:e.id,hash:e.hash};return i.definition.url.replace("{id}",u.id.toString()).replace("{hash}",u.hash.toString()).replace(/\/+$/,"")+y(o)};i.get=(e,o)=>({url:i.url(e,o),method:"get"});i.head=(e,o)=>({url:i.url(e,o),method:"head"});const b=(e,o)=>({action:i.url(e,o),method:"get"});b.get=(e,o)=>({action:i.url(e,o),method:"get"});b.head=(e,o)=>({action:i.url(e,{[o?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...o?.query??o?.mergeQuery??{}}}),method:"get"});i.form=b;const n=e=>({url:n.url(e),method:"post"});n.definition={methods:["post"],url:"/email/verification-notification"};n.url=e=>n.definition.url+y(e);n.post=e=>({url:n.url(e),method:"post"});const S=e=>({action:n.url(e),method:"post"});S.post=e=>({action:n.url(e),method:"post"});n.form=S;Object.assign(a,a),Object.assign(i,i),Object.assign(n,n);const J={class:"flex flex-col space-y-6 md:max-w-2xl"},K={key:0},R={key:1},W={class:"grid gap-2"},X={class:"grid gap-2"},Z={key:0},ee={class:"-mt-4 text-sm text-muted-foreground"},te={key:0,class:"mt-2 text-sm font-medium text-green-600"},re={class:"flex items-center gap-4"},be=F({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const o=[{title:"Profile settings",href:I().url}],u=N(),h=u.props.auth.user,m=U({name:h?.name,email:h?.email}),B=()=>{m.patch(L("profile.update"),{})};return(k,s)=>{const x=V("AlertCircle"),D=V("LoaderCircle");return f(),w(G,{breadcrumbs:o},{default:l(()=>[r(t(j),{title:"Profile settings"}),r(T,null,{default:l(()=>[c("div",J,[r(Y,{title:"Profile information",description:"Update your name and email address"}),t(u).props.errors.auth_error?(f(),_("div",K,[r(t(E),{variant:"destructive"},{default:l(()=>[r(x,{class:"w-4 h-4"}),r(t(P),null,{default:l(()=>[...s[2]||(s[2]=[d("Error",-1)])]),_:1}),r(t(Q),null,{default:l(()=>[d($(t(u).props.errors.auth_error),1)]),_:1})]),_:1})])):p("",!0),t(u).props.flash.success?(f(),_("div",R,[r(t(E),{class:"border-green-500 text-green-700 bg-green-50"},{default:l(()=>[r(x,{class:"w-4 h-4 text-green-700"}),r(t(P),null,{default:l(()=>[...s[3]||(s[3]=[d("Success!!",-1)])]),_:1}),r(t(Q),null,{default:l(()=>[d($(t(u).props.flash.success),1)]),_:1})]),_:1})])):p("",!0),c("form",{onSubmit:O(B,["prevent"]),class:"space-y-6"},[c("div",W,[r(t(C),{for:"name"},{default:l(()=>[...s[4]||(s[4]=[d("Name",-1)])]),_:1}),r(t(A),{id:"name",class:"mt-1 block w-full",name:"name",modelValue:t(m).name,"onUpdate:modelValue":s[0]||(s[0]=g=>t(m).name=g),required:"",autocomplete:"name",placeholder:"Full name"},null,8,["modelValue"]),r(q,{class:"mt-2",message:t(m).errors.name},null,8,["message"])]),c("div",X,[r(t(C),{for:"email"},{default:l(()=>[...s[5]||(s[5]=[d("Email address",-1)])]),_:1}),r(t(A),{id:"email",type:"email",class:"mt-1 block w-full",name:"email",modelValue:t(m).email,"onUpdate:modelValue":s[1]||(s[1]=g=>t(m).email=g),required:"",autocomplete:"username",placeholder:"Email address"},null,8,["modelValue"]),r(q,{class:"mt-2",message:t(m).errors.email},null,8,["message"])]),k.mustVerifyEmail&&!t(h).email_verified_at?(f(),_("div",Z,[c("p",ee,[s[7]||(s[7]=d(" Your email address is unverified. ",-1)),r(t(H),{href:t(n)(),as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:l(()=>[...s[6]||(s[6]=[d(" Click here to resend the verification email. ",-1)])]),_:1},8,["href"])]),k.status==="verification-link-sent"?(f(),_("div",te," A new verification link has been sent to your email address. ")):p("",!0)])):p("",!0),c("div",re,[r(t(z),{type:"submit",class:"mt-4 w-full button-submit",tabindex:3,disabled:t(m).processing},{default:l(()=>[t(m).processing?(f(),w(D,{key:0,class:"h-4 w-4 animate-spin"})):p("",!0),s[8]||(s[8]=d(" Save ",-1))]),_:1},8,["disabled"])])],32)])]),_:1})]),_:1})}}});export{be as default};

import{d as I,H as F,C as M,D as z,E as P,f as j,o as b,w as i,a as t,u as r,h as J,b as _,c as E,k as q,i as g,t as O,A as K,G as R}from"./app-DOyywl8Y.js";import{_ as D,a as U,b as N}from"./index-DflhEG2y.js";import{_ as Q,a as k,b as $}from"./Label.vue_vue_type_script_setup_true_lang-DaLpthrx.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dfma2FPl.js";import{_ as X,a as Y}from"./Layout.vue_vue_type_script_setup_true_lang-DJE1uhK7.js";import{q as h,a as Z}from"./index-CMWG4mbA.js";import{_ as ee}from"./index-BxhFODY8.js";import"./createLucideIcon-S7r1xuUQ.js";import"./useForwardExpose-D9lFEWLy.js";import"./Presence-HNy452IW.js";import"./RovingFocusGroup-C04SQ15b.js";import"./useArrowNavigation-C6Y-ieo6.js";const m=e=>({url:m.url(e),method:"post"});m.definition={methods:["post"],url:"/confirm-password"};m.url=e=>m.definition.url+h(e);m.post=e=>({url:m.url(e),method:"post"});const H=e=>({action:m.url(e),method:"post"});H.post=e=>({action:m.url(e),method:"post"});m.form=H;const re={store:Object.assign(m,m)},d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/settings/password"};d.url=e=>d.definition.url+h(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const C=e=>({action:d.url(e),method:"get"});C.get=e=>({action:d.url(e),method:"get"});C.head=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});d.form=C;const p=e=>({url:p.url(e),method:"put"});p.definition={methods:["put"],url:"/settings/password"};p.url=e=>p.definition.url+h(e);p.put=e=>({url:p.url(e),method:"put"});const B=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});B.put=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});p.form=B;const u=(e,s)=>({url:u.url(e,s),method:"get"});u.definition={methods:["get","head"],url:"/reset-password/{token}"};u.url=(e,s)=>{(typeof e=="string"||typeof e=="number")&&(e={token:e}),Array.isArray(e)&&(e={token:e[0]}),e=Z(e);const a={token:e.token};return u.definition.url.replace("{token}",a.token.toString()).replace(/\/+$/,"")+h(s)};u.get=(e,s)=>({url:u.url(e,s),method:"get"});u.head=(e,s)=>({url:u.url(e,s),method:"head"});const V=(e,s)=>({action:u.url(e,s),method:"get"});V.get=(e,s)=>({action:u.url(e,s),method:"get"});V.head=(e,s)=>({action:u.url(e,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});u.form=V;const c=e=>({url:c.url(e),method:"post"});c.definition={methods:["post"],url:"/reset-password"};c.url=e=>c.definition.url+h(e);c.post=e=>({url:c.url(e),method:"post"});const S=e=>({action:c.url(e),method:"post"});S.post=e=>({action:c.url(e),method:"post"});c.form=S;const n=e=>({url:n.url(e),method:"get"});n.definition={methods:["get","head"],url:"/forgot-password"};n.url=e=>n.definition.url+h(e);n.get=e=>({url:n.url(e),method:"get"});n.head=e=>({url:n.url(e),method:"head"});const v=e=>({action:n.url(e),method:"get"});v.get=e=>({action:n.url(e),method:"get"});v.head=e=>({action:n.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});n.form=v;const f=e=>({url:f.url(e),method:"post"});f.definition={methods:["post"],url:"/forgot-password"};f.url=e=>f.definition.url+h(e);f.post=e=>({url:f.url(e),method:"post"});const L=e=>({action:f.url(e),method:"post"});L.post=e=>({action:f.url(e),method:"post"});f.form=L;const l=e=>({url:l.url(e),method:"get"});l.definition={methods:["get","head"],url:"/confirm-password"};l.url=e=>l.definition.url+h(e);l.get=e=>({url:l.url(e),method:"get"});l.head=e=>({url:l.url(e),method:"head"});const x=e=>({action:l.url(e),method:"get"});x.get=e=>({action:l.url(e),method:"get"});x.head=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});l.form=x;Object.assign(d,d),Object.assign(p,p),Object.assign(u,u),Object.assign(c,c),Object.assign(n,n),Object.assign(f,f),Object.assign(l,re);const te={class:"space-y-6"},oe={key:0},se={key:1},ae={class:"grid gap-2"},de={class:"grid gap-2"},ue={class:"grid gap-2"},ne={class:"flex items-center gap-4"},Qe=I({__name:"Password",setup(e){const s=[{title:"Password settings",href:d().url}];F(null),F(null);const a=M({current_password:"",password:"",password_confirmation:""}),T=()=>{a.put(R("password.update"),{onFinish:()=>a.reset("password","current_password","password_confirmation")})},y=z();return(le,o)=>{const A=P("AlertCircle"),G=P("LoaderCircle");return b(),j(W,{breadcrumbs:s},{default:i(()=>[t(r(J),{title:"Password settings"}),t(X,null,{default:i(()=>[_("div",te,[r(y).props.flash.success?(b(),E("div",oe,[t(r(D),{class:"border-green-500 text-green-700 bg-green-50"},{default:i(()=>[t(A,{class:"w-4 h-4 text-green-700"}),t(r(U),null,{default:i(()=>[...o[3]||(o[3]=[g("Success!!",-1)])]),_:1}),t(r(N),null,{default:i(()=>[g(O(r(y).props.flash.success),1)]),_:1})]),_:1})])):q("",!0),r(y).props.flash.error?(b(),E("div",se,[t(r(D),{variant:"destructive"},{default:i(()=>[t(A,{class:"w-4 h-4"}),t(r(U),null,{default:i(()=>[...o[4]||(o[4]=[g("Error",-1)])]),_:1}),t(r(N),null,{default:i(()=>[g(O(r(y).props.flash.error),1)]),_:1})]),_:1})])):q("",!0),t(Y,{title:"Update password",description:"Ensure your account is using a long, random password to stay secure"}),_("form",{onSubmit:K(T,["prevent"]),class:"space-y-4"},[_("div",ae,[t(r(Q),{for:"current_password"},{default:i(()=>[...o[5]||(o[5]=[g("Current password",-1)])]),_:1}),t(r(k),{id:"current_password",type:"password",required:"",tabindex:2,autocomplete:"current_password",modelValue:r(a).current_password,"onUpdate:modelValue":o[0]||(o[0]=w=>r(a).current_password=w),placeholder:"Current Password"},null,8,["modelValue"]),t($,{message:r(a).errors.current_password},null,8,["message"])]),_("div",de,[t(r(Q),{for:"password"},{default:i(()=>[...o[6]||(o[6]=[g("New password",-1)])]),_:1}),t(r(k),{id:"password",type:"password",required:"",tabindex:2,autocomplete:"password",modelValue:r(a).password,"onUpdate:modelValue":o[1]||(o[1]=w=>r(a).password=w),placeholder:"New Password"},null,8,["modelValue"]),t($,{message:r(a).errors.password},null,8,["message"])]),_("div",ue,[t(r(Q),{for:"password"},{default:i(()=>[...o[7]||(o[7]=[g("Confirm password",-1)])]),_:1}),t(r(k),{id:"password_confirmation",type:"password",required:"",tabindex:2,autocomplete:"password_confirmation",modelValue:r(a).password_confirmation,"onUpdate:modelValue":o[2]||(o[2]=w=>r(a).password_confirmation=w),placeholder:"Confirm Password"},null,8,["modelValue"]),t($,{message:r(a).errors.password_confirmation},null,8,["message"])]),_("div",ne,[t(r(ee),{type:"submit",class:"mt-4 w-full button-submit",tabindex:4,disabled:r(a).processing},{default:i(()=>[r(a).processing?(b(),j(G,{key:0,class:"h-4 w-4 animate-spin"})):q("",!0),o[8]||(o[8]=g(" Log in ",-1))]),_:1},8,["disabled"])])],32)])]),_:1})]),_:1})}}});export{Qe as default};

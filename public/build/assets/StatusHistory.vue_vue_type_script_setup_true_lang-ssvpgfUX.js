import{c as R,u as M,P as K,a as z,b as U}from"./Presence-CKR7NSlE.js";import{u as G}from"./useDirection-DzGscdW8.js";import{a as F,u as x,g as J,r as D}from"./useForwardExpose-9iMogRfX.js";import{P as w,a as T}from"./createLucideIcon-C2WIyQXX.js";import{i as Y}from"./isValueEqualOrExist-68bAyrsR.js";import{a as P}from"./nullish-B9QBIykp.js";import{d as g,G as N,f as y,o as v,w as d,v as _,u as t,E as q,q as C,y as L,x as Q,e as W,a as B,m as I,k as X,A as Z,b as f,M as ee,c as H,t as O,F as te,z as ae}from"./app-dNEsyUTE.js";import{u as oe}from"./useArrowNavigation-C6Y-ieo6.js";import{C as le}from"./chevron-down-Cr21TpeL.js";const[j,se]=R("CollapsibleRoot");var ne=g({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(l,{expose:o,emit:a}){const e=l,n=F(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0}),{disabled:r,unmountOnHide:u}=N(e);return se({contentId:"",disabled:r,open:n,unmountOnHide:u,onOpenToggle:()=>{r.value||(n.value=!n.value)}}),o({open:n}),x(),(p,i)=>(v(),y(t(w),{as:p.as,"as-child":e.asChild,"data-state":t(n)?"open":"closed","data-disabled":t(r)?"":void 0},{default:d(()=>[_(p.$slots,"default",{open:t(n)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),re=ne,ie=g({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(l,{emit:o}){const a=l,e=o,s=j();s.contentId||=M(void 0,"reka-collapsible-content");const n=q(),{forwardRef:r,currentElement:u}=x(),p=q(0),i=q(0),m=C(()=>s.open.value),b=q(m.value),h=q();L(()=>[m.value,n.value?.present],async()=>{await Q();const c=u.value;if(!c)return;h.value=h.value||{transitionDuration:c.style.transitionDuration,animationName:c.style.animationName},c.style.transitionDuration="0s",c.style.animationName="none";const V=c.getBoundingClientRect();i.value=V.height,p.value=V.width,b.value||(c.style.transitionDuration=h.value.transitionDuration,c.style.animationName=h.value.animationName)},{immediate:!0});const A=C(()=>b.value&&s.open.value);return W(()=>{requestAnimationFrame(()=>{b.value=!1})}),J(u,"beforematch",c=>{requestAnimationFrame(()=>{s.onOpenToggle(),e("contentFound")})}),(c,V)=>(v(),y(t(K),{ref_key:"presentRef",ref:n,present:c.forceMount||t(s).open.value,"force-mount":!0},{default:d(({present:E})=>[B(t(w),I(c.$attrs,{id:t(s).contentId,ref:t(r),"as-child":a.asChild,as:c.as,hidden:E?void 0:t(s).unmountOnHide.value?"":"until-found","data-state":A.value?void 0:t(s).open.value?"open":"closed","data-disabled":t(s).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${i.value}px`,"--reka-collapsible-content-width":`${p.value}px`}}),{default:d(()=>[!t(s).unmountOnHide.value||E?_(c.$slots,"default",{key:0}):X("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),de=ie,ue=g({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const o=l;x();const a=j();return(e,s)=>(v(),y(t(w),{type:e.as==="button"?"button":void 0,as:e.as,"as-child":o.asChild,"aria-controls":t(a).contentId,"aria-expanded":t(a).open.value,"data-state":t(a).open.value?"open":"closed","data-disabled":t(a).disabled?.value?"":void 0,disabled:t(a).disabled?.value,onClick:t(a).onOpenToggle},{default:d(()=>[_(e.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}}),ce=ue;function pe({type:l,defaultValue:o,modelValue:a}){const e=a||o;return a!==void 0||o!==void 0?Array.isArray(e)?"multiple":"single":l??"single"}function fe({type:l,defaultValue:o,modelValue:a}){return l||pe({type:l,defaultValue:o,modelValue:a})}function ve({type:l,defaultValue:o}){return o!==void 0?o:l==="single"?void 0:[]}function me(l,o){const a=C(()=>fe(l)),e=F(l,"modelValue",o,{defaultValue:ve(l),passive:l.modelValue===void 0,deep:!0});function s(r){if(a.value==="single")e.value=P(r,e.value)?void 0:r;else{const u=Array.isArray(e.value)?[...e.value||[]]:[e.value].filter(Boolean);if(Y(u,r)){const p=u.findIndex(i=>P(i,r));u.splice(p,1)}else u.push(r);e.value=u}}const n=C(()=>a.value==="single");return{modelValue:e,changeModelValue:s,isSingle:n}}const[k,_e]=R("AccordionRoot");var ge=g({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,e=o,{dir:s,disabled:n,unmountOnHide:r}=N(a),u=G(s),{modelValue:p,changeModelValue:i,isSingle:m}=me(a,e),{forwardRef:b,currentElement:h}=x();return _e({disabled:n,direction:u,orientation:a.orientation,parentElement:h,isSingle:m,collapsible:a.collapsible,modelValue:p,changeModelValue:i,unmountOnHide:r}),(A,c)=>(v(),y(t(w),{ref:t(b),"as-child":A.asChild,as:A.as},{default:d(()=>[_(A.$slots,"default",{modelValue:t(p)})]),_:3},8,["as-child","as"]))}}),ye=ge,S=(function(l){return l.Open="open",l.Closed="closed",l})(S||{});const[$,be]=R("AccordionItem");var he=g({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l,{expose:o}){const a=l,e=k(),s=C(()=>e.isSingle.value?a.value===e.modelValue.value:Array.isArray(e.modelValue.value)&&e.modelValue.value.includes(a.value)),n=C(()=>e.disabled.value||a.disabled),r=C(()=>n.value?"":void 0),u=C(()=>s.value?S.Open:S.Closed);o({open:s,dataDisabled:r});const{currentRef:p,currentElement:i}=x();be({open:s,dataState:u,disabled:n,dataDisabled:r,triggerId:"",currentRef:p,currentElement:i,value:C(()=>a.value)});function m(b){const h=b.target;if(Array.from(e.parentElement.value?.querySelectorAll("[data-reka-collection-item]")??[]).findIndex(V=>V===h)===-1)return null;oe(b,h,e.parentElement.value,{arrowKeyOptions:e.orientation,dir:e.direction.value,focus:!0})}return(b,h)=>(v(),y(t(re),{"data-orientation":t(e).orientation,"data-disabled":r.value,"data-state":u.value,disabled:n.value,open:s.value,as:a.as,"as-child":a.asChild,"unmount-on-hide":t(e).unmountOnHide.value,onKeydown:Z(m,["up","down","left","right","home","end"])},{default:d(()=>[_(b.$slots,"default",{open:s.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),Ce=he,xe=g({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const o=l,a=k(),e=$();return x(),(s,n)=>(v(),y(t(de),{role:"region","as-child":o.asChild,as:s.as,"force-mount":o.forceMount,"aria-labelledby":t(e).triggerId,"data-state":t(e).dataState.value,"data-disabled":t(e).dataDisabled.value,"data-orientation":t(a).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:n[0]||(n[0]=r=>t(a).changeModelValue(t(e).value.value))},{default:d(()=>[_(s.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),Ae=xe,qe=g({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(l){const o=l,a=k(),e=$();return x(),(s,n)=>(v(),y(t(w),{as:o.as,"as-child":o.asChild,"data-orientation":t(a).orientation,"data-state":t(e).dataState.value,"data-disabled":t(e).dataDisabled.value},{default:d(()=>[_(s.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),Be=qe,Ve=g({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const o=l,a=k(),e=$();e.triggerId||=M(void 0,"reka-accordion-trigger");function s(){const n=a.isSingle.value&&e.open.value&&!a.collapsible;e.disabled.value||n||a.changeModelValue(e.value.value)}return(n,r)=>(v(),y(t(ce),{id:t(e).triggerId,ref:t(e).currentRef,"data-reka-collection-item":"",as:o.as,"as-child":o.asChild,"aria-disabled":t(e).disabled.value||void 0,"aria-expanded":t(e).open.value||!1,"data-disabled":t(e).dataDisabled.value,"data-orientation":t(a).orientation,"data-state":t(e).dataState.value,disabled:t(e).disabled.value,onClick:s},{default:d(()=>[_(n.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),we=Ve;const Ie=g({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(l,{emit:o}){const s=z(l,o);return(n,r)=>(v(),y(t(ye),I({"data-slot":"accordion"},t(s)),{default:d(()=>[_(n.$slots,"default")]),_:3},16))}}),Oe=g({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(l){const o=l,a=D(o,"class");return(e,s)=>(v(),y(t(Ae),I({"data-slot":"accordion-content"},t(a),{class:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"}),{default:d(()=>[f("div",{class:ee(t(T)("pt-0 pb-4",o.class))},[_(e.$slots,"default")],2)]),_:3},16))}}),ke=g({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(l){const o=l,a=D(o,"class"),e=U(a);return(s,n)=>(v(),y(t(Ce),I({"data-slot":"accordion-item"},t(e),{class:t(T)("border-b last:border-b-0",o.class)}),{default:d(()=>[_(s.$slots,"default")]),_:3},16,["class"]))}}),Se=g({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const o=l,a=D(o,"class");return(e,s)=>(v(),y(t(Be),{class:"flex"},{default:d(()=>[B(t(we),I({"data-slot":"accordion-trigger"},t(a),{class:t(T)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",o.class)}),{default:d(()=>[_(e.$slots,"default"),_(e.$slots,"icon",{},()=>[B(t(le),{class:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}}),Re={class:"shadow-xl p-4 rounded-lg h-full"},De={class:"border-gray-400 pb-2 mb-2"},Te={class:"grid grid-cols-2"},$e={class:"text-gray-600 text-sm"},Ee={class:"space-y-2"},Pe={class:"grid grid-cols-[40%_60%] lg:grid-cols-[25%_75%] gap-4 border-b-1 border-dashed border-gray-500 pr-5"},He={class:"text-gray-600 text-sm"},Me={class:"grid grid-cols-[40%_60%] lg:grid-cols-[25%_75%] gap-4 pr-5"},Fe={class:"text-gray-600 text-sm"},Qe=g({__name:"StatusHistory",props:{pisData:{type:Object,default:()=>[]}},setup(l){const o=l,a=o.pisData[0].history.map((p,i)=>String(i)),e=q([]),s=C(()=>e.value.length!==a.length?"OPEN ALL":"CLOSE ALL"),n=()=>{e.value=[...a]},r=()=>{e.value=[]},u=(()=>{e.value.length!==a.length?n():r()});return L(()=>o.pisData,p=>{},{immediate:!0}),(p,i)=>(v(),H("div",Re,[f("div",De,[f("div",Te,[i[1]||(i[1]=f("p",{class:"font-bold text-sm"},"PROJECT STATUS/HISTORY ",-1)),f("p",{class:"text-blue-600 cursor-pointer text-end mr-3",onClick:u},O(s.value),1)]),B(t(Ie),{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=m=>e.value=m),type:"multiple",collapsible:""},{default:d(()=>[(v(!0),H(te,null,ae(o.pisData[0].history,(m,b)=>(v(),y(t(ke),{value:String(b)},{default:d(()=>[B(t(Se),null,{default:d(()=>[f("p",$e,O(m.last_updated?new Date(m.last_updated).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""),1)]),_:2},1024),B(t(Oe),{class:"bg-gray-200 p-4 rounded-md mb-2"},{default:d(()=>[f("div",Ee,[f("div",Pe,[i[2]||(i[2]=f("p",{class:"text-gray-600 text-sm"},[f("b",null,"Remarks: ")],-1)),f("p",He,O(m?.remarks),1)]),f("div",Me,[i[3]||(i[3]=f("p",{class:"text-gray-600 text-sm"},[f("b",null,"Person Responsible: ")],-1)),f("p",Fe,O(m?.full_name),1)])])]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])]))}});export{Qe as _};

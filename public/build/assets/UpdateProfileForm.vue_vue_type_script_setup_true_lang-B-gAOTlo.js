import{d as $,E as w,n as x,D as c,f as _,o as g,w as o,a as s,k as C,u as e,i as r,b as i,p as E,R as N,s as D}from"./app-DThZpC3V.js";import{_ as P,a as B,b as F,c as I,d as M,f as L,C as R,g as S,u as q,e as z}from"./MessageBox-BA7eYoFq.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-CmgorI_8.js";import{_ as k}from"./index-BZus7sdn.js";import{u as d}from"./usePasswordToggle-D-S3M7aL.js";import{c as O}from"./createLucideIcon-DKW43acL.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=O("UserRoundIcon",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]),h={class:"grid gap-2"},j={class:"grid gap-2"},W=$({__name:"UpdateProfileForm",props:{UserData:{type:Object,default:()=>{}}},setup(U){d(),d(),d();const{openSuccessNotification:v,openErrorNotification:y}=q(),u=U,m=w(!1),t=x({email:u.UserData.email,name:u.UserData.name}),V=(async()=>{try{const l=await N.patch(D("user-mgmt.updateUserProfile",u.UserData.id),t,{});m.value=!1,v(`${l.data.message}`),z.emit("refresh-user-table"),console.log(l)}catch(l){return y(l.response.data.message),l}});return(l,a)=>{const f=c("Label"),p=c("InputError");return g(),_(e(S),{open:m.value,"onUpdate:open":a[2]||(a[2]=n=>m.value=n)},{default:o(()=>[s(e(P),null,{default:o(()=>[s(e(k),{size:"sm",class:"text-xs button-submit"},{default:o(()=>[s(e(T)),a[3]||(a[3]=r("Update Profile",-1))]),_:1})]),_:1}),m.value?(g(),_(e(B),{key:0},{default:o(()=>[i("form",{onSubmit:E(V,["prevent"])},[s(e(F),null,{default:o(()=>[s(e(I),null,{default:o(()=>[...a[4]||(a[4]=[r("Edit profile",-1)])]),_:1}),s(e(M),null,{default:o(()=>[...a[5]||(a[5]=[r(" Make changes to user profile here. Click save when you're done. ",-1)])]),_:1})]),_:1}),i("div",h,[s(f,{for:"name"},{default:o(()=>[...a[6]||(a[6]=[r("Full Name",-1)])]),_:1}),s(e(b),{id:"name",class:"mt-1 block w-full",name:"name",modelValue:e(t).name,"onUpdate:modelValue":a[0]||(a[0]=n=>e(t).name=n),required:"",autocomplete:"name",placeholder:"Full name"},null,8,["modelValue"]),s(p,{message:e(t).errors.name},null,8,["message"])]),i("div",j,[s(f,{for:"email"},{default:o(()=>[...a[7]||(a[7]=[r("Email",-1)])]),_:1}),s(e(b),{id:"email",type:"email",class:"mt-1 block w-full",name:"email",modelValue:e(t).email,"onUpdate:modelValue":a[1]||(a[1]=n=>e(t).email=n),required:"",autocomplete:"username",placeholder:"Email address"},null,8,["modelValue"]),s(p,{message:e(t).errors.email},null,8,["message"])]),s(e(L),null,{default:o(()=>[s(e(k),{type:"submit",class:"bg-blue-500 cursor-pointer hover:bg-blue-700"},{default:o(()=>[s(e(R)),a[8]||(a[8]=r("Update Password ",-1))]),_:1})]),_:1})],32)]),_:1})):C("",!0)]),_:1},8,["open"])}}});export{W as _};
